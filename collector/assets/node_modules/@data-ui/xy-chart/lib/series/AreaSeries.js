'use strict';var _getPrototypeOf=require('babel-runtime/core-js/object/get-prototype-of'),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=require('babel-runtime/helpers/classCallCheck'),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=require('babel-runtime/helpers/createClass'),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=require('babel-runtime/helpers/possibleConstructorReturn'),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=require('babel-runtime/helpers/inherits'),_inherits3=_interopRequireDefault(_inherits2),_extends2=require('babel-runtime/helpers/extends'),_extends3=_interopRequireDefault(_extends2),_shape=require('@vx/shape'),_theme=require('@data-ui/theme'),_shared=require('@data-ui/shared'),_group=require('@vx/group'),_propTypes=require('prop-types'),_propTypes2=_interopRequireDefault(_propTypes),_react=require('react'),_react2=_interopRequireDefault(_react),_propShapes=require('../utils/propShapes'),_chartUtils=require('../utils/chartUtils'),_findClosestDatum=require('../utils/findClosestDatum'),_findClosestDatum2=_interopRequireDefault(_findClosestDatum),_interpolatorLookup=require('../utils/interpolatorLookup'),_interpolatorLookup2=_interopRequireDefault(_interpolatorLookup),_sharedSeriesProps=require('../utils/sharedSeriesProps'),_sharedSeriesProps2=_interopRequireDefault(_sharedSeriesProps);Object.defineProperty(exports,'__esModule',{value:!0});function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}var propTypes=(0,_extends3.default)({},_sharedSeriesProps2.default,{data:_propShapes.areaSeriesDataShape.isRequired,fill:_propTypes2.default.oneOfType([_propTypes2.default.func,_propTypes2.default.string]),fillOpacity:_propTypes2.default.oneOfType([_propTypes2.default.func,_propTypes2.default.number]),interpolation:_propShapes.interpolationShape,stroke:_propTypes2.default.oneOfType([_propTypes2.default.func,_propTypes2.default.string]),strokeDasharray:_propTypes2.default.oneOfType([_propTypes2.default.func,_propTypes2.default.string]),strokeWidth:_propTypes2.default.oneOfType([_propTypes2.default.func,_propTypes2.default.number]),strokeLinecap:_propTypes2.default.oneOf(['butt','square','round','inherit'])}),defaultProps={interpolation:'monotoneX',stroke:_theme.color.default,strokeWidth:3,strokeDasharray:null,strokeLinecap:'round',fill:_theme.color.default,fillOpacity:.3},x=function(a){return a&&a.x},getY=function(a){return a&&a.y},getY0=function(a){return a&&a.y0},getY1=function(a){return a&&a.y1},definedClosed=function(a){return(0,_chartUtils.isDefined)(getY(a))},definedOpen=function(a){return(0,_chartUtils.isDefined)(getY0(a))&&(0,_chartUtils.isDefined)(getY1(a))},noEventsStyles={pointerEvents:'none'},AreaSeries=function(a){function b(){return(0,_classCallCheck3.default)(this,b),(0,_possibleConstructorReturn3.default)(this,(b.__proto__||(0,_getPrototypeOf2.default)(b)).apply(this,arguments))}return(0,_inherits3.default)(b,a),(0,_createClass3.default)(b,[{key:'render',value:function render(){var a=this.props,b=a.data,c=a.disableMouseEvents,e=a.xScale,d=a.yScale,f=a.stroke,g=a.strokeWidth,h=a.strokeDasharray,i=a.strokeLinecap,j=a.fill,k=a.fillOpacity,l=a.interpolation,m=a.onClick,n=a.onMouseMove,o=a.onMouseLeave;if(!e||!d)return null;var p=b[0]||{},q=!definedOpen(p),r=d.domain()[0],s=q?function(){return r}:getY0,t=q?getY:getY1,u=q?definedClosed:definedOpen,v=(0,_chartUtils.callOrValue)(h,b),w=(0,_chartUtils.callOrValue)(f,b),y=(0,_chartUtils.callOrValue)(g,b),z=(0,_chartUtils.callOrValue)(j,b),A=_interpolatorLookup2.default[l]||_interpolatorLookup2.default.monotoneX;return _react2.default.createElement(_group.Group,{style:c?noEventsStyles:null,onClick:c?null:m&&function(a){var c=(0,_findClosestDatum2.default)({data:b,getX:x,event:a,xScale:e});m({event:a,data:b,datum:c,color:z})},onMouseMove:c?null:n&&function(a){var c=(0,_findClosestDatum2.default)({data:b,getX:x,event:a,xScale:e});n({event:a,data:b,datum:c,color:z})},onMouseLeave:c?null:o},_react2.default.createElement(_shape.Area,{data:b,x:x,y0:s,y1:t,xScale:e,yScale:d,fill:z,fillOpacity:(0,_chartUtils.callOrValue)(k,b),stroke:'transparent',strokeWidth:y,curve:A,defined:u}),0<y&&!q&&_react2.default.createElement(_shape.LinePath,{data:b,x:x,y:s,xScale:e,yScale:d,stroke:w,strokeWidth:y,strokeDasharray:v,strokeLinecap:i,curve:A,glyph:null,defined:u}),_react2.default.createElement(_shape.LinePath,{data:b,x:x,y:t,xScale:e,yScale:d,stroke:w,strokeWidth:y,strokeDasharray:v,strokeLinecap:i,curve:A,defined:u,glyph:function glyph(a,d){return _react2.default.createElement(_shared.FocusBlurHandler,{key:'areapoint-'+d,onBlur:c?null:o,onFocus:c?null:function(c){n({event:c,data:b,datum:a,color:w,index:d})}})}}))}}]),b}(_react2.default.PureComponent);exports.default=AreaSeries,AreaSeries.propTypes=propTypes,AreaSeries.defaultProps=defaultProps,AreaSeries.displayName='AreaSeries';