'use strict';var _getPrototypeOf=require('babel-runtime/core-js/object/get-prototype-of'),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=require('babel-runtime/helpers/classCallCheck'),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=require('babel-runtime/helpers/createClass'),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=require('babel-runtime/helpers/possibleConstructorReturn'),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=require('babel-runtime/helpers/inherits'),_inherits3=_interopRequireDefault(_inherits2),_extends2=require('babel-runtime/helpers/extends'),_extends3=_interopRequireDefault(_extends2),_react=require('react'),_react2=_interopRequireDefault(_react),_propTypes=require('prop-types'),_propTypes2=_interopRequireDefault(_propTypes),_group=require('@vx/group'),_shape=require('@vx/shape'),_theme=require('@data-ui/theme'),_interpolatorLookup=require('../utils/interpolatorLookup'),_interpolatorLookup2=_interopRequireDefault(_interpolatorLookup),_chartUtils=require('../utils/chartUtils'),_findClosestDatum=require('../utils/findClosestDatum'),_findClosestDatum2=_interopRequireDefault(_findClosestDatum),_propShapes=require('../utils/propShapes'),_sharedSeriesProps=require('../utils/sharedSeriesProps'),_sharedSeriesProps2=_interopRequireDefault(_sharedSeriesProps);Object.defineProperty(exports,'__esModule',{value:!0});function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}var propTypes=(0,_extends3.default)({},_sharedSeriesProps2.default,{data:_propShapes.lineSeriesDataShape.isRequired,fillOpacity:_propTypes2.default.oneOfType([_propTypes2.default.func,_propTypes2.default.number]),interpolation:_propShapes.interpolationShape,stackKeys:_propTypes2.default.arrayOf(_propTypes2.default.string).isRequired,stackFills:_propTypes2.default.arrayOf(_propTypes2.default.string),stroke:_propTypes2.default.oneOfType([_propTypes2.default.func,_propTypes2.default.string]),strokeWidth:_propTypes2.default.oneOfType([_propTypes2.default.func,_propTypes2.default.number])}),defaultProps={fillOpacity:.7,interpolation:'monotoneX',stackFills:_theme.color.categories,stroke:'#fff',strokeWidth:1},_x=function(a){return a&&a.x},_y=function(a){return a&&a[0]},_y2=function(a){return a&&a[1]},defined=function(a){return(0,_chartUtils.isDefined)(a[0])&&(0,_chartUtils.isDefined)(a[1])},noEventsStyles={pointerEvents:'none'},StackedAreaSeries=function(a){function b(){return(0,_classCallCheck3.default)(this,b),(0,_possibleConstructorReturn3.default)(this,(b.__proto__||(0,_getPrototypeOf2.default)(b)).apply(this,arguments))}return(0,_inherits3.default)(b,a),(0,_createClass3.default)(b,[{key:'render',value:function render(){var a=this.props,b=a.data,c=a.disableMouseEvents,e=a.xScale,f=a.yScale,d=a.stackKeys,g=a.stackFills,h=a.fillOpacity,i=a.stroke,j=a.strokeWidth,k=a.interpolation,l=a.onClick,m=a.onMouseMove,n=a.onMouseLeave;return e&&f?_react2.default.createElement(_group.Group,{style:c?noEventsStyles:null},_react2.default.createElement(_shape.Stack,{data:b,x:function x(a){return e(_x(a.data))},y0:function y0(a){return f(_y(a))},y1:function y1(a){return f(_y2(a))},keys:d,fill:function fill(a){var b=a.index;return g[b]},fillOpacity:function fillOpacity(a){var b=a.index,c=a.datum;return(0,_chartUtils.callOrValue)(h,{datum:c,index:b})},stroke:function stroke(a){var b=a.datum,c=a.index;return(0,_chartUtils.callOrValue)(i,{datum:b,index:c})},strokeWidth:function strokeWidth(a){var b=a.datum,c=a.index;return(0,_chartUtils.callOrValue)(j,{datum:b,index:c})},curve:_interpolatorLookup2.default[k]||_interpolatorLookup2.default.monotoneX,defined:defined,onClick:c?null:l&&function(a){var c=a.series,d=a.index;return function(a){var f=(0,_findClosestDatum2.default)({data:c,getX:function getX(a){return _x(a.data)},event:a,xScale:e});l({event:a,data:b,seriesKey:c.key,datum:f&&f.data,color:g[d]})}},onMouseMove:c?null:m&&function(a){var c=a.series,d=a.index;return function(a){var f=(0,_findClosestDatum2.default)({data:c,getX:function getX(a){return _x(a.data)},event:a,xScale:e});m({event:a,data:b,seriesKey:c.key,datum:f&&f.data,color:g[d]})}},onMouseLeave:c?null:function(){return n}})):null}}]),b}(_react2.default.PureComponent);exports.default=StackedAreaSeries,StackedAreaSeries.propTypes=propTypes,StackedAreaSeries.defaultProps=defaultProps,StackedAreaSeries.displayName='StackedAreaSeries';