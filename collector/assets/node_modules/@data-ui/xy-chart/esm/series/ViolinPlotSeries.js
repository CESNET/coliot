import _defineProperty from'babel-runtime/helpers/defineProperty';import _extends from'babel-runtime/helpers/extends';import{FocusBlurHandler}from'@data-ui/shared';import{Group}from'@vx/group';import PropTypes from'prop-types';import React from'react';import{color as themeColors}from'@data-ui/theme';import{ViolinPlot}from'@vx/stats';import{callOrValue}from'../utils/chartUtils';import sharedSeriesProps from'../utils/sharedSeriesProps';import{violinPlotSeriesDataShape}from'../utils/propShapes';var propTypes=_extends({},sharedSeriesProps,{data:violinPlotSeriesDataShape.isRequired,horizontal:PropTypes.bool,fill:PropTypes.oneOfType([PropTypes.func,PropTypes.string]),stroke:PropTypes.oneOfType([PropTypes.func,PropTypes.string]),strokeWidth:PropTypes.oneOfType([PropTypes.func,PropTypes.number]),widthRatio:PropTypes.number}),defaultProps={stroke:themeColors.darkGray,strokeWidth:2,fill:themeColors.default,horizontal:!1,widthRatio:1},MAX_BOX_WIDTH=50,x=function(a){return a.x},y=function(a){return a.y};export default function ViolinPlotSeries(a){var b=a.data,c=a.fill,e=a.stroke,f=a.strokeWidth,d=a.xScale,g=a.yScale,h=a.horizontal,j=a.widthRatio,k=a.disableMouseEvents,l=a.onMouseMove,m=a.onMouseLeave,n=a.onClick;if(!d||!g)return null;var i=h?g:d,o=h?y:x,p=h?d:g,q=i.bandwidth(),r=Math.min(50,q),s=(i.offset||0)-(q-r)/2,t=h?'top':'left',u=function(a){return _defineProperty({},t,i(o(a))-s+(1-j)/2*r)};return React.createElement(Group,null,b.map(function(a,d){return React.createElement(FocusBlurHandler,{key:o(a),onBlur:k?null:m,onFocus:k?null:function(c){l({event:c,data:b,datum:a,index:d})}},React.createElement(ViolinPlot,_extends({},u(a),{binData:a.binData,width:r*j,fill:a.fill||callOrValue(c,a,d),stroke:a.stroke||callOrValue(e,a,d),strokeWidth:a.strokeWidth||callOrValue(f,a,d),valueScale:p,horizontal:h,onMouseMove:k?null:l&&function(){return function(c){l({event:c,data:b,datum:a,index:d})}},onMouseLeave:k?null:m&&function(){return m},onClick:k?null:n&&function(){return function(c){n({event:c,data:b,datum:a,index:d})}}})))}))}ViolinPlotSeries.propTypes=propTypes,ViolinPlotSeries.defaultProps=defaultProps,ViolinPlotSeries.displayName='ViolinPlotSeries';