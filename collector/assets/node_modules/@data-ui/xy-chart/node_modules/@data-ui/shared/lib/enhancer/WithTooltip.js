'use strict';var _objectWithoutProperties2=require('babel-runtime/helpers/objectWithoutProperties'),_objectWithoutProperties3=_interopRequireDefault(_objectWithoutProperties2),_getPrototypeOf=require('babel-runtime/core-js/object/get-prototype-of'),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=require('babel-runtime/helpers/classCallCheck'),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=require('babel-runtime/helpers/createClass'),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=require('babel-runtime/helpers/possibleConstructorReturn'),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=require('babel-runtime/helpers/inherits'),_inherits3=_interopRequireDefault(_inherits2),_extends2=require('babel-runtime/helpers/extends'),_extends3=_interopRequireDefault(_extends2),_Tooltip=require('@vx/tooltip/build/tooltips/Tooltip');Object.defineProperty(exports,'__esModule',{value:!0}),exports.propTypes=exports.withTooltipPropTypes=exports.Tooltip=void 0;Object.defineProperty(exports,'Tooltip',{enumerable:!0,get:function get(){return _interopRequireDefault(_Tooltip).default}});var _react=require('react'),_react2=_interopRequireDefault(_react),_propTypes=require('prop-types'),_propTypes2=_interopRequireDefault(_propTypes),_localPoint=require('@vx/event/build/localPoint'),_localPoint2=_interopRequireDefault(_localPoint),_withTooltip=require('@vx/tooltip/build/enhancers/withTooltip'),_withTooltip2=_interopRequireDefault(_withTooltip),_TooltipWithBounds=require('@vx/tooltip/build/tooltips/TooltipWithBounds'),_TooltipWithBounds2=_interopRequireDefault(_TooltipWithBounds);function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}var withTooltipPropTypes=exports.withTooltipPropTypes={onMouseMove:_propTypes2.default.func,onMouseLeave:_propTypes2.default.func,tooltipData:_propTypes2.default.any},propTypes=exports.propTypes=(0,_extends3.default)({},_TooltipWithBounds.withTooltipPropTypes,{children:_propTypes2.default.oneOfType([_propTypes2.default.object,_propTypes2.default.func]).isRequired,className:_propTypes2.default.string,HoverStyles:_propTypes2.default.oneOfType([_propTypes2.default.object,_propTypes2.default.func]),renderTooltip:_propTypes2.default.func,styles:_propTypes2.default.objectOf(_propTypes2.default.oneOfType([_propTypes2.default.string,_propTypes2.default.number])),TooltipComponent:_propTypes2.default.oneOfType([_propTypes2.default.object,_propTypes2.default.func]),tooltipProps:_propTypes2.default.object}),defaultProps={className:null,HoverStyles:function HoverStyles(){return _react2.default.createElement('style',{type:'text/css'},'\n      .vx-arc:hover,\n      .vx-bar:hover,\n      .vx-glyph-dot:hover {\n        opacity: 0.7;\n      }\n    ')},renderTooltip:null,styles:{display:'inline-block',position:'relative'},TooltipComponent:_TooltipWithBounds2.default,tooltipProps:null,tooltipTimeout:200},WithTooltip=function(a){function b(a){(0,_classCallCheck3.default)(this,b);var c=(0,_possibleConstructorReturn3.default)(this,(b.__proto__||(0,_getPrototypeOf2.default)(b)).call(this,a));return c.handleMouseMove=c.handleMouseMove.bind(c),c.handleMouseLeave=c.handleMouseLeave.bind(c),c.tooltipTimeout=null,c}return(0,_inherits3.default)(b,a),(0,_createClass3.default)(b,[{key:'componentWillUnmount',value:function componentWillUnmount(){this.tooltipTimeout&&clearTimeout(this.tooltipTimeout)}},{key:'handleMouseMove',value:function handleMouseMove(a){var b=a.event,c=a.datum,d=a.coords,e=(0,_objectWithoutProperties3.default)(a,['event','datum','coords']),f=this.props.showTooltip;this.tooltipTimeout&&clearTimeout(this.tooltipTimeout);var g={x:0,y:0};b&&b.target&&b.target.ownerSVGElement&&(g=(0,_localPoint2.default)(b.target.ownerSVGElement,b)),g=(0,_extends3.default)({},g,d),f({tooltipLeft:g.x,tooltipTop:g.y,tooltipData:(0,_extends3.default)({event:b,datum:c},e)})}},{key:'handleMouseLeave',value:function handleMouseLeave(){var a=this.props,b=a.tooltipTimeout,c=a.hideTooltip;this.tooltipTimeout=setTimeout(function(){c()},b)}},{key:'render',value:function render(){var a=this.props,b=a.children,c=a.className,d=a.HoverStyles,e=a.tooltipData,f=a.tooltipOpen,g=a.tooltipLeft,h=a.tooltipTop,i=a.tooltipProps,j=a.renderTooltip,k=a.styles,l=a.TooltipComponent,m={onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,tooltipData:e},n=j&&f&&l&&j(e);return _react2.default.createElement('div',{style:k,className:c},'function'==typeof b?b(m):_react2.default.cloneElement(_react2.default.Children.only(b),m),!!n&&_react2.default.createElement(l,(0,_extends3.default)({key:Math.random(),top:h,left:g},i),n),d&&_react2.default.createElement(d,null))}}]),b}(_react2.default.PureComponent);WithTooltip.propTypes=propTypes,WithTooltip.defaultProps=defaultProps,exports.default=(0,_withTooltip2.default)(WithTooltip);