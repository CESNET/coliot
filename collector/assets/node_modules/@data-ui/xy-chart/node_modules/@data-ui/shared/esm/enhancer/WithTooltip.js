import _objectWithoutProperties from'babel-runtime/helpers/objectWithoutProperties';import _Object$getPrototypeOf from'babel-runtime/core-js/object/get-prototype-of';import _classCallCheck from'babel-runtime/helpers/classCallCheck';import _createClass from'babel-runtime/helpers/createClass';import _possibleConstructorReturn from'babel-runtime/helpers/possibleConstructorReturn';import _inherits from'babel-runtime/helpers/inherits';import _extends from'babel-runtime/helpers/extends';import React from'react';import PropTypes from'prop-types';import localPoint from'@vx/event/build/localPoint';import withTooltip from'@vx/tooltip/build/enhancers/withTooltip';import TooltipWithBounds,{withTooltipPropTypes as vxTooltipPropTypes}from'@vx/tooltip/build/tooltips/TooltipWithBounds';export{default as Tooltip}from'@vx/tooltip/build/tooltips/Tooltip';export var withTooltipPropTypes={onMouseMove:PropTypes.func,onMouseLeave:PropTypes.func,tooltipData:PropTypes.any};export var propTypes=_extends({},vxTooltipPropTypes,{children:PropTypes.oneOfType([PropTypes.object,PropTypes.func]).isRequired,className:PropTypes.string,HoverStyles:PropTypes.oneOfType([PropTypes.object,PropTypes.func]),renderTooltip:PropTypes.func,styles:PropTypes.objectOf(PropTypes.oneOfType([PropTypes.string,PropTypes.number])),TooltipComponent:PropTypes.oneOfType([PropTypes.object,PropTypes.func]),tooltipProps:PropTypes.object});var defaultProps={className:null,HoverStyles:function HoverStyles(){return React.createElement('style',{type:'text/css'},'\n      .vx-arc:hover,\n      .vx-bar:hover,\n      .vx-glyph-dot:hover {\n        opacity: 0.7;\n      }\n    ')},renderTooltip:null,styles:{display:'inline-block',position:'relative'},TooltipComponent:TooltipWithBounds,tooltipProps:null,tooltipTimeout:200},WithTooltip=function(a){function b(a){_classCallCheck(this,b);var c=_possibleConstructorReturn(this,(b.__proto__||_Object$getPrototypeOf(b)).call(this,a));return c.handleMouseMove=c.handleMouseMove.bind(c),c.handleMouseLeave=c.handleMouseLeave.bind(c),c.tooltipTimeout=null,c}return _inherits(b,a),_createClass(b,[{key:'componentWillUnmount',value:function componentWillUnmount(){this.tooltipTimeout&&clearTimeout(this.tooltipTimeout)}},{key:'handleMouseMove',value:function handleMouseMove(a){var b=a.event,c=a.datum,d=a.coords,e=_objectWithoutProperties(a,['event','datum','coords']),f=this.props.showTooltip;this.tooltipTimeout&&clearTimeout(this.tooltipTimeout);var g={x:0,y:0};b&&b.target&&b.target.ownerSVGElement&&(g=localPoint(b.target.ownerSVGElement,b)),g=_extends({},g,d),f({tooltipLeft:g.x,tooltipTop:g.y,tooltipData:_extends({event:b,datum:c},e)})}},{key:'handleMouseLeave',value:function handleMouseLeave(){var a=this.props,b=a.tooltipTimeout,c=a.hideTooltip;this.tooltipTimeout=setTimeout(function(){c()},b)}},{key:'render',value:function render(){var a=this.props,b=a.children,c=a.className,d=a.HoverStyles,e=a.tooltipData,f=a.tooltipOpen,g=a.tooltipLeft,h=a.tooltipTop,i=a.tooltipProps,j=a.renderTooltip,k=a.styles,l=a.TooltipComponent,m={onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,tooltipData:e},n=j&&f&&l&&j(e);return React.createElement('div',{style:k,className:c},'function'==typeof b?b(m):React.cloneElement(React.Children.only(b),m),!!n&&React.createElement(l,_extends({key:Math.random(),top:h,left:g},i),n),d&&React.createElement(d,null))}}]),b}(React.PureComponent);WithTooltip.propTypes=propTypes,WithTooltip.defaultProps=defaultProps;export default withTooltip(WithTooltip);