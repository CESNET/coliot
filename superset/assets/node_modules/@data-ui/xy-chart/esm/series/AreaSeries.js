import _Object$getPrototypeOf from'babel-runtime/core-js/object/get-prototype-of';import _classCallCheck from'babel-runtime/helpers/classCallCheck';import _createClass from'babel-runtime/helpers/createClass';import _possibleConstructorReturn from'babel-runtime/helpers/possibleConstructorReturn';import _inherits from'babel-runtime/helpers/inherits';import _extends from'babel-runtime/helpers/extends';import{Area,LinePath}from'@vx/shape';import{color}from'@data-ui/theme';import{FocusBlurHandler}from'@data-ui/shared';import{Group}from'@vx/group';import PropTypes from'prop-types';import React from'react';import{areaSeriesDataShape,interpolationShape}from'../utils/propShapes';import{callOrValue,isDefined}from'../utils/chartUtils';import findClosestDatum from'../utils/findClosestDatum';import interpolatorLookup from'../utils/interpolatorLookup';import sharedSeriesProps from'../utils/sharedSeriesProps';var propTypes=_extends({},sharedSeriesProps,{data:areaSeriesDataShape.isRequired,fill:PropTypes.oneOfType([PropTypes.func,PropTypes.string]),fillOpacity:PropTypes.oneOfType([PropTypes.func,PropTypes.number]),interpolation:interpolationShape,stroke:PropTypes.oneOfType([PropTypes.func,PropTypes.string]),strokeDasharray:PropTypes.oneOfType([PropTypes.func,PropTypes.string]),strokeWidth:PropTypes.oneOfType([PropTypes.func,PropTypes.number]),strokeLinecap:PropTypes.oneOf(['butt','square','round','inherit'])}),defaultProps={interpolation:'monotoneX',stroke:color.default,strokeWidth:3,strokeDasharray:null,strokeLinecap:'round',fill:color.default,fillOpacity:.3},x=function(a){return a&&a.x},getY=function(a){return a&&a.y},getY0=function(a){return a&&a.y0},getY1=function(a){return a&&a.y1},definedClosed=function(a){return isDefined(getY(a))},definedOpen=function(a){return isDefined(getY0(a))&&isDefined(getY1(a))},noEventsStyles={pointerEvents:'none'},AreaSeries=function(a){function b(){return _classCallCheck(this,b),_possibleConstructorReturn(this,(b.__proto__||_Object$getPrototypeOf(b)).apply(this,arguments))}return _inherits(b,a),_createClass(b,[{key:'render',value:function render(){var a=this.props,b=a.data,c=a.disableMouseEvents,e=a.xScale,d=a.yScale,f=a.stroke,g=a.strokeWidth,h=a.strokeDasharray,i=a.strokeLinecap,j=a.fill,k=a.fillOpacity,l=a.interpolation,m=a.onClick,n=a.onMouseMove,o=a.onMouseLeave;if(!e||!d)return null;var p=b[0]||{},q=!definedOpen(p),r=d.domain()[0],s=q?function(){return r}:getY0,t=q?getY:getY1,u=q?definedClosed:definedOpen,v=callOrValue(h,b),w=callOrValue(f,b),y=callOrValue(g,b),z=callOrValue(j,b),A=interpolatorLookup[l]||interpolatorLookup.monotoneX;return React.createElement(Group,{style:c?noEventsStyles:null,onClick:c?null:m&&function(a){var c=findClosestDatum({data:b,getX:x,event:a,xScale:e});m({event:a,data:b,datum:c,color:z})},onMouseMove:c?null:n&&function(a){var c=findClosestDatum({data:b,getX:x,event:a,xScale:e});n({event:a,data:b,datum:c,color:z})},onMouseLeave:c?null:o},React.createElement(Area,{data:b,x:x,y0:s,y1:t,xScale:e,yScale:d,fill:z,fillOpacity:callOrValue(k,b),stroke:'transparent',strokeWidth:y,curve:A,defined:u}),0<y&&!q&&React.createElement(LinePath,{data:b,x:x,y:s,xScale:e,yScale:d,stroke:w,strokeWidth:y,strokeDasharray:v,strokeLinecap:i,curve:A,glyph:null,defined:u}),React.createElement(LinePath,{data:b,x:x,y:t,xScale:e,yScale:d,stroke:w,strokeWidth:y,strokeDasharray:v,strokeLinecap:i,curve:A,defined:u,glyph:function glyph(a,d){return React.createElement(FocusBlurHandler,{key:'areapoint-'+d,onBlur:c?null:o,onFocus:c?null:function(c){n({event:c,data:b,datum:a,color:w,index:d})}})}}))}}]),b}(React.PureComponent);export default AreaSeries;AreaSeries.propTypes=propTypes,AreaSeries.defaultProps=defaultProps,AreaSeries.displayName='AreaSeries';