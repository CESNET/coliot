import _Object$getPrototypeOf from'babel-runtime/core-js/object/get-prototype-of';import _classCallCheck from'babel-runtime/helpers/classCallCheck';import _createClass from'babel-runtime/helpers/createClass';import _possibleConstructorReturn from'babel-runtime/helpers/possibleConstructorReturn';import _inherits from'babel-runtime/helpers/inherits';import _extends from'babel-runtime/helpers/extends';import React from'react';import PropTypes from'prop-types';import{Group}from'@vx/group';import{Stack}from'@vx/shape';import{color}from'@data-ui/theme';import interpolatorLookup from'../utils/interpolatorLookup';import{callOrValue,isDefined}from'../utils/chartUtils';import findClosestDatum from'../utils/findClosestDatum';import{lineSeriesDataShape,interpolationShape}from'../utils/propShapes';import sharedSeriesProps from'../utils/sharedSeriesProps';var propTypes=_extends({},sharedSeriesProps,{data:lineSeriesDataShape.isRequired,fillOpacity:PropTypes.oneOfType([PropTypes.func,PropTypes.number]),interpolation:interpolationShape,stackKeys:PropTypes.arrayOf(PropTypes.string).isRequired,stackFills:PropTypes.arrayOf(PropTypes.string),stroke:PropTypes.oneOfType([PropTypes.func,PropTypes.string]),strokeWidth:PropTypes.oneOfType([PropTypes.func,PropTypes.number])}),defaultProps={fillOpacity:.7,interpolation:'monotoneX',stackFills:color.categories,stroke:'#fff',strokeWidth:1},_x=function(a){return a&&a.x},_y=function(a){return a&&a[0]},_y2=function(a){return a&&a[1]},defined=function(a){return isDefined(a[0])&&isDefined(a[1])},noEventsStyles={pointerEvents:'none'},StackedAreaSeries=function(a){function b(){return _classCallCheck(this,b),_possibleConstructorReturn(this,(b.__proto__||_Object$getPrototypeOf(b)).apply(this,arguments))}return _inherits(b,a),_createClass(b,[{key:'render',value:function render(){var a=this.props,b=a.data,c=a.disableMouseEvents,e=a.xScale,f=a.yScale,d=a.stackKeys,g=a.stackFills,h=a.fillOpacity,i=a.stroke,j=a.strokeWidth,k=a.interpolation,l=a.onClick,m=a.onMouseMove,n=a.onMouseLeave;return e&&f?React.createElement(Group,{style:c?noEventsStyles:null},React.createElement(Stack,{data:b,x:function x(a){return e(_x(a.data))},y0:function y0(a){return f(_y(a))},y1:function y1(a){return f(_y2(a))},keys:d,fill:function fill(a){var b=a.index;return g[b]},fillOpacity:function fillOpacity(a){var b=a.index,c=a.datum;return callOrValue(h,{datum:c,index:b})},stroke:function stroke(a){var b=a.datum,c=a.index;return callOrValue(i,{datum:b,index:c})},strokeWidth:function strokeWidth(a){var b=a.datum,c=a.index;return callOrValue(j,{datum:b,index:c})},curve:interpolatorLookup[k]||interpolatorLookup.monotoneX,defined:defined,onClick:c?null:l&&function(a){var c=a.series,d=a.index;return function(a){var f=findClosestDatum({data:c,getX:function getX(a){return _x(a.data)},event:a,xScale:e});l({event:a,data:b,seriesKey:c.key,datum:f&&f.data,color:g[d]})}},onMouseMove:c?null:m&&function(a){var c=a.series,d=a.index;return function(a){var f=findClosestDatum({data:c,getX:function getX(a){return _x(a.data)},event:a,xScale:e});m({event:a,data:b,seriesKey:c.key,datum:f&&f.data,color:g[d]})}},onMouseLeave:c?null:function(){return n}})):null}}]),b}(React.PureComponent);export default StackedAreaSeries;StackedAreaSeries.propTypes=propTypes,StackedAreaSeries.defaultProps=defaultProps,StackedAreaSeries.displayName='StackedAreaSeries';