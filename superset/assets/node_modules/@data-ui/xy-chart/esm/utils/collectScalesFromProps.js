import _extends from'babel-runtime/helpers/extends';import{Children}from'react';import collectDataFromChildSeries from'./collectDataFromChildSeries';import getChartDimensions from'./getChartDimensions';import getScaleForAccessor from'./getScaleForAccessor';import{componentName,isBarSeries,isCirclePackSeries}from'./chartUtils';var getX=function(a){return a&&a.x},xString=function(a){return getX(a).toString()};export default function collectScalesFromProps(a){var b=a.xScale,c=a.yScale,d=a.children,e=getChartDimensions(a),f=e.innerWidth,g=e.innerHeight,h=collectDataFromChildSeries(d),i=h.allData,j=getScaleForAccessor(_extends({allData:i,minAccessor:function minAccessor(a){return'undefined'==typeof a.x0?a.x:a.x0},maxAccessor:function maxAccessor(a){return'undefined'==typeof a.x1?a.x:a.x1},range:[0,f]},b)),k=getScaleForAccessor(_extends({allData:i,minAccessor:function minAccessor(a){return'undefined'==typeof a.y0?a.y:a.y0},maxAccessor:function maxAccessor(a){return'undefined'==typeof a.y1?a.y:a.y1},range:[g,0]},c));return Children.forEach(d,function(a){var c=componentName(a);if(isBarSeries(c)&&'band'!==b.type){var d=getScaleForAccessor({allData:i,minAccessor:xString,maxAccessor:xString,type:'band',rangeRound:[0,f],paddingOuter:1}),e=d.bandwidth()/2;j.range([e,f-e]),j.barWidth=d.bandwidth(),j.offset=e}isCirclePackSeries(c)&&k.domain([-g/2,g/2])}),{xScale:j,yScale:k}}