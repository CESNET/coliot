import _Object$getPrototypeOf from'babel-runtime/core-js/object/get-prototype-of';import _classCallCheck from'babel-runtime/helpers/classCallCheck';import _createClass from'babel-runtime/helpers/createClass';import _possibleConstructorReturn from'babel-runtime/helpers/possibleConstructorReturn';import _inherits from'babel-runtime/helpers/inherits';import React from'react';import PropTypes from'prop-types';import{Group}from'@vx/group';import{VoronoiPolygon,voronoi as voronoiLayout}from'@vx/voronoi';var propTypes={data:PropTypes.arrayOf(PropTypes.object).isRequired,onClick:PropTypes.func,onMouseMove:PropTypes.func,onMouseLeave:PropTypes.func,showVoronoi:PropTypes.bool,width:PropTypes.number.isRequired,height:PropTypes.number.isRequired,x:PropTypes.func.isRequired,y:PropTypes.func.isRequired},defaultProps={onClick:null,onMouseMove:null,onMouseLeave:null,showVoronoi:!1},Voronoi=function(a){function b(a){_classCallCheck(this,b);var c=_possibleConstructorReturn(this,(b.__proto__||_Object$getPrototypeOf(b)).call(this,a));return c.state={voronoi:b.getVoronoi(a)},c}return _inherits(b,a),_createClass(b,[{key:'componentWillReceiveProps',value:function componentWillReceiveProps(a){var c=this;['data','x','y','width','height'].some(function(b){return c.props[b]!==a[b]})&&this.setState({voronoi:b.getVoronoi(a)})}},{key:'render',value:function render(){var a=this.props,b=a.onMouseLeave,c=a.onMouseMove,d=a.onClick,e=a.showVoronoi,f=this.state.voronoi;return React.createElement(Group,null,f.polygons().map(function(a,f){return React.createElement(VoronoiPolygon,{key:'voronoi-'+a.length+'-'+f,polygon:a,fill:'transparent',stroke:e?'#ddd':'transparent',strokeWidth:1,onClick:d&&function(){return function(b){d({event:b,datum:a.data})}},onMouseMove:c&&function(){return function(b){c({event:b,datum:a.data})}},onMouseLeave:b&&function(){return b}})}))}}],[{key:'getVoronoi',value:function getVoronoi(a){var b=a.x,c=a.y,d=a.data,e=a.width,f=a.height;return voronoiLayout({x:b,y:c,width:e,height:f})(d)}}]),b}(React.PureComponent);Voronoi.propTypes=propTypes,Voronoi.defaultProps=defaultProps,Voronoi.displayName='Voronoi';export default Voronoi;